<!-- schedule-display.component.html -->
<div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 max-w-full overflow-x-auto">
  <!-- Header with current date -->
  <div class="mb-6 flex justify-between items-center">
    <h2 class="text-xl font-bold text-gray-900 dark:text-white">
      Emploi du Temps Global
    </h2>
    <div class="text-sm text-gray-500 dark:text-gray-400">
      {{currentDate}}
    </div>
  </div>

  <!-- Schedule Table -->
  <div class="overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
      <!-- Header -->
      <thead>
      <tr>
        <th class="px-4 py-3 bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider sticky left-0 z-10">
          Horaire
        </th>
        <th *ngFor="let day of days"
            class="px-4 py-3 bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider min-w-[250px]">
          {{day}}
        </th>
      </tr>
      </thead>

      <!-- Body -->
      <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
      <tr *ngFor="let timeSlot of timeSlots">
        <td class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white sticky left-0 bg-white dark:bg-gray-800 z-10">
          {{timeSlot}}
        </td>
        <td *ngFor="let day of days"
            class="px-4 py-4 align-top">
          <div *ngFor="let course of getAllCoursesForSlot(day, timeSlot)"
               [class]="getClassForCourse(course)">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="font-medium">{{course.name}}</div>
                <div class="text-xs mt-1 space-y-1">
                  <div class="font-medium">{{course.professor}}</div>
                  <div class="flex items-center space-x-2">
                      <span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium"
                            [class.bg-blue-100]="course.type === 'COURS'"
                            [class.text-blue-800]="course.type === 'COURS'"
                            [class.bg-green-100]="course.type === 'TD'"
                            [class.text-green-800]="course.type === 'TD'"
                            [class.bg-purple-100]="course.type === 'TP'"
                            [class.text-purple-800]="course.type === 'TP'">
                        {{course.type}}
                      </span>
                    <span class="text-gray-500 dark:text-gray-400">{{course.room}}</span>
                  </div>
                  <div class="text-gray-500 dark:text-gray-400">
                    {{course.group}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Legend -->
  <div class="mt-6 flex flex-wrap gap-4">
    <div class="flex items-center space-x-2">
      <div class="w-4 h-4 rounded bg-blue-100 dark:bg-blue-900/30"></div>
      <span class="text-sm text-gray-600 dark:text-gray-400">Cours</span>
    </div>
    <div class="flex items-center space-x-2">
      <div class="w-4 h-4 rounded bg-green-100 dark:bg-green-900/30"></div>
      <span class="text-sm text-gray-600 dark:text-gray-400">TD</span>
    </div>
    <div class="flex items-center space-x-2">
      <div class="w-4 h-4 rounded bg-purple-100 dark:bg-purple-900/30"></div>
      <span class="text-sm text-gray-600 dark:text-gray-400">TP</span>
    </div>
  </div>
</div>
