<div class="min-h-screen bg-gray-100">
  <app-sidebar [isOpen]="isSidebarOpen"></app-sidebar>
  <!-- Floating Message Notification -->
  <div *ngIf="showMessageNotification"
       [@slideInOut]
       (click)="navigateToMessages()"
       class="fixed bottom-4 right-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-purple-200 dark:border-purple-800 cursor-pointer transform hover:scale-102 transition-all duration-300 z-50">

    <!-- Header -->
    <div class="px-4 py-3 bg-purple-50 dark:bg-purple-900/20 rounded-t-lg border-b border-purple-100 dark:border-purple-800 flex items-center justify-between">
      <div class="flex items-center space-x-2">
        <div class="w-2 h-2 bg-purple-600 rounded-full animate-pulse"></div>
        <span class="text-sm font-medium text-purple-700 dark:text-purple-300">
        Nouveau Message
      </span>
      </div>
      <button (click)="dismissNotification($event)"
              class="text-gray-400 hover:text-gray-500 focus:outline-none">
        <i-feather name="x" class="h-4 w-4"></i-feather>
      </button>
    </div>

    <!-- Message Content -->
    <div class="p-4">
      <div class="flex items-start space-x-3">
        <!-- Sender Avatar -->
        <div class="flex-shrink-0 w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center">
        <span class="text-purple-600 dark:text-purple-300 font-medium">
          {{latestMessage.sender[0]}}
        </span>
        </div>

        <!-- Message Details -->
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-gray-900 dark:text-white">
            {{latestMessage.sender}}
          </p>
          <p class="text-sm text-gray-500 dark:text-gray-400 line-clamp-2">
            {{latestMessage.content}}
          </p>
          <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">
            {{latestMessage.time}}
          </p>
        </div>
      </div>
    </div>

    <!-- Action Footer -->
    <div class="px-4 py-3 bg-gray-50 dark:bg-gray-800/50 rounded-b-lg border-t border-gray-100 dark:border-gray-700 flex justify-between items-center">
    <span class="text-xs text-gray-500 dark:text-gray-400">
      {{unreadMessages}} message{{unreadMessages > 1 ? 's' : ''}} non lu{{unreadMessages > 1 ? 's' : ''}}
    </span>
      <div class="flex items-center text-purple-600 dark:text-purple-400 text-sm font-medium">
        <span>Voir tous</span>
        <i-feather name="chevron-right" class="h-4 w-4 ml-1"></i-feather>
      </div>
    </div>
  </div>
  <div [class.pl-64]="isSidebarOpen" [class.pl-20]="!isSidebarOpen" class="transition-all duration-300 ease-in-out">
    <app-nav-bar (toggleSidebar)="toggleSidebar()"></app-nav-bar>
<router-outlet></router-outlet>
  </div></div>
