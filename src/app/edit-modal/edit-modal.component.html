
<div *ngIf="showModal"
     class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50"
     (click)="closeModal()">
<div class="bg-white/95 dark:bg-gray-800/95 rounded-2xl shadow-2xl max-w-md w-full m-4 p-6 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50"
     (click)="$event.stopPropagation()">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-xl font-semibold text-gray-900 dark:text-white flex items-center space-x-3">
      <div class="p-2 bg-primary/10 rounded-lg">
        <i-feather [name]="selectedActivity.seance.id ? 'edit' : 'plus-circle'" class="h-5 w-5 text-primary"></i-feather>
      </div>
      <span>{{ selectedActivity.seance.id ? 'Edit Session' : 'Add Session' }}</span>
    </h2>
    <button class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors"
            (click)="closeModal()">
      <i-feather name="x" class="h-5 w-5 text-gray-500 dark:text-gray-400"></i-feather>
    </button>
  </div>

  <form class="space-y-5">
    <!-- Enhanced Form Fields -->
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>
        <div class="flex items-center space-x-2">
          <i-feather name="bookmark" class="h-4 w-4"></i-feather>
          <span>Activity Name</span>
        </div>
      </mat-label>
      <input matInput [(ngModel)]="selectedActivity.seance.name" name="activityName" required
             class="backdrop-blur-sm" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>
        <div class="flex items-center space-x-2">
          <i-feather name="user" class="h-4 w-4"></i-feather>
          <span>Professor</span>
        </div>
      </mat-label>
      <input matInput [(ngModel)]="selectedActivity.seance.professor" name="professor" required
             class="backdrop-blur-sm" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>
        <div class="flex items-center space-x-2">
          <i-feather name="book" class="h-4 w-4"></i-feather>
          <span>Type</span>
        </div>
      </mat-label>
      <mat-select [(ngModel)]="selectedActivity.seance.type" name="type" required
                  class="backdrop-blur-sm">
        <mat-option value="COURS">Cours</mat-option>
        <mat-option value="TD">TD</mat-option>
        <mat-option value="TP">TP</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>
        <div class="flex items-center space-x-2">
          <i-feather name="repeat" class="h-4 w-4"></i-feather>
          <span>Frequency</span>
        </div>
      </mat-label>
      <mat-select [(ngModel)]="selectedFrequency" name="frequency" required
                  class="backdrop-blur-sm">
        <mat-option value="weekly">Weekly</mat-option>
        <mat-option value="biweekly">Bi-weekly</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="flex justify-end space-x-3 pt-4">
      <button mat-button
              class="flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
              (click)="closeModal()">
        <i-feather name="x" class="h-4 w-4"></i-feather>
        <span>Cancel</span>
      </button>
      <button mat-raised-button color="primary"
              class="flex items-center space-x-2 px-6 py-2 rounded-lg bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary transition-all duration-300"
              (click)="selectedActivity.seance.id ? saveEditChanges() : saveAddChanges()">
        <i-feather name="save" class="h-4 w-4"></i-feather>
        <span>Save</span>
      </button>
    </div>
  </form>
</div>
</div>
